# ゆめみさんコーディングテスト

本リポジトリは、ゆめみさんのフロントエンドコーディングテストの回答リポジトリです。

README には、以下のことを記載しています。

- 環境構築
- 開発時間
- 使用技術

# 環境構築

以下のコマンドを実行して、環境を構築できます。

```bash

git clone https://github.com/YKhm20020/yumemi-codingtest.git
cd yumemi-codingtest
deno install
deno task dev

```

# 開発時間

| 日付       | 作業内容                                         | 作業時間               | 除外時間 (休憩等)                       |
| ---------- | ------------------------------------------------ | ---------------------- | --------------------------------------- |
| 2024/12/18 | 環境構築（Next.js, Biome, TailwindCSS）          | 1.5 時間 (17:00~18:30) | 0 時間                                  |
| 2024/12/19 | 環境構築の続き、グラフに必要なデータフェッチ関連 | 1.5 時間 (17:00~20:30) | 1 時間 (サポーターズイベント参加のため) |
| 2024/12/20 | 1 日ゼミと忘年会でおやすみ                       | 0 時間                 | 0 時間                                  |
| 2024/12/21 | データフェッチとグラフの表示                     | 1.5 時間 (18:00~20:30) | 0 時間                                  |

## 作業内容の詳細

### 1 日目

環境構築メイン。[ticket-1](https://github.com/YKhm20020/yumemi-codingtest/pull/2) に詳細は記載。

時間が短いが、研究室サーバーが動かなくなったと報告があったので、その対応にあたるため、1.5 時間で作業終了。

### 2 日目

環境構築の続き。各パッケージを Deno で使えるように。採点していただく際に `npm install` で動かないと不便かもしれないので、package.json, package-lock.json は残しておく。動かないとわかったら諦めて消します。
という予定でしたが、HighCharts が Deno での npm パッケージインポートで動きそうにないので、しばらくは Node.js で動きをチェックして、戻せそうなら Deno に戻す方針に。
データフェッチで 500 番エラーが発生したので、ドキュメントにあるように一旦ストップ。どうにも動きが不安定なので、変に Deno で環境構築したのが良くなかったかも。

### 3 日目

ゼミと忘年会のためおやすみ。午前中もまとまった時間が取れそうになかったので、1 日進めないことに。

### 4 日目

- 都道府県名と prefCode 、人口を取得する関数をそれぞれ作成
- 作成したデータ取得関数から、グラフを表示するコンポーネントを作成
- ラベルを受け取る汎用的なチェックボックスコンポーネントのモックを作成

時間の割に結構進んだ。NEXT_PUBLIC の接頭辞付け忘れに気づくまでに時間がかかったのが痛かったが、気づいてからは意外とすんなりいけた。
チェックボックスのデータをグラフに渡さないといけないので、チェックボックスリストとグラフをまとめたコンポーネント (命名は未定。dashboard, display 等？)をさらに作らないといけないことがわかった。

せっかく tailwindcss を 4.0 Beta にしているので、コンフィグをいじってみたい。
と思ったら tailwind.config.ts が不要になっていたので、削除した。自動ソースコード検出により、対象のソースを content で指定する必要がなくなった。消した後でも tailwind が動いていることを確認。

後日、学部生向けに研究室についての説明を行うことになったので、必要資料作成のため 1.5 時間で終了。

# 使用技術

## フレームワーク

- Next.js 15.1.1
- React 19.0.0

## CSS ライブラリ

- TailwindCSS 4.0.0-beta.8

## 開発ツール

- Biome（リンター・フォーマッター）
- Vitest（テストフレームワーク）

## CI/CD

- Biome によるコード品質チェック

TODO として、Vercel でのデプロイも行う。

# AI を利用した箇所

- README.md のテンプレート作成

表を書く、技術をまとめる時間がかかると思ったので、テンプレートを作ってもらいました。
一部の言い回しや付け加え等の詳細を自分で書き直しました。

- deno の使用方法把握

deno をはじめて使うので、公式ドキュメントを参考にしつつパッケージ追加方法等を質問。
Highcharts をインストールしようとしたところ、README の記述から Deno ではなく Node.js を使って動いていることがわかった。
パッケージを入れ直し、サーバー起動や Biome によるフォーマットチェックコマンドを追加し直しました。
`deno add` コマンドでパッケージをインストールしたため、Deno で動いていると思っていたのですが、deno.json がなく、package.json があったため、package.json 側にパッケージが追加されていたのが原因でした。

- HighCharts の使用方法把握

HighCharts もはじめて使うので、公式ドキュメントと Github の public になっているリポジトリを回りつつ、グラフ表示のコードも生成してもらった。

一部設定不要なオプションが入っていたので、そこを削除するとほぼ動く状態に。
データフェッチで総人口のみを取得しグラフで表示するようになっていたため、それを年少人口などの対応し、ラベルを動的に変更できるように自分で修正し、完成させた。
